# python-web-course

Практический курс по построению Web API на python

Для регенерации тестовых данных можно зайти в админку под суперпользователем и на
вкладке "Ключи" нажать "Перегенерировать все данные" выполнится функция ```srvices.data.
regenerate()``` после ее
выполнения БД будет очищена и наполнена тестовыми данными, будет создано три
организации и 19 сотрудников. В каждой из организаций будет добавлено по 4 сотрудника
1 админ, 2 пользователя и 1 утверждающий(approver). Остальные сотрудники останутся 
без привязки к организации, трое из них будет с флагом ```deleted=True``` 
Каждая роль(Roles) имеет свои операции(Operations)
Также будет перегенерирован ключ для доступа к апи, он будет годен 24 часа, при 
запросах в апи его необходимо включать в заголовки ```headers={"Token": api_token}```

## Модели

### Organization - организации

- В организации можно добавлять несколько сотрудников, только с флагом 
  ```deleted=False```
- У организации есть реквизиты Requisites

### Requisites - реквизиты организации

- Реквизиты привязываются к организации и выбираются из списка RequisitesName

### Employee - сотрудники

- Сотрудники это User с флагом ```is_superuser = False```
- Сотрудник может быть помечен как удаленный ```deleted=False```
- У сотрудника назначаются в организации определенные роли(RoleOperations)

### RoleOperations - операции для роли

- Список операции(Operations) привязанных к роли(Roles)


## АПИ

Для работы с апи необходимо использовать апи-ключ, он генерируется и доступен в админке

### Сотрудники
- Получение списка сотрудников
- Получение одного сотрудника по portal_user_id
- Создание сотрудника
- Обновление сотрудника

### Организации
- Получение списка организаций
- Получение одной организации по id
- Создание организации
- Обновление организации
- Добавление сотрудника в организацию